# ROS2环境安装
观看的视频：鱼香ROS机器人
代理：`http://github.fishros.org/`
社区：[鱼香ROS社区](https://fishros.org.cn/)
## 安装ros2环境
个人使用的wsl2--Ubuntu2204
### 一键安装ros2

```bash
wget http://fishros.com/install -O fishros && bash fishros
```
![一键安装](https://i-blog.csdnimg.cn/direct/acd5ac83990e47788816dd2e2750dce7.png)
![换源](https://i-blog.csdnimg.cn/direct/cf1099c13e1b44d38eeb4bb0bd2ea7e9.png)
![更换所有源](https://i-blog.csdnimg.cn/direct/0129a2b9142f457db0a835ef20a82909.png)
![自动测试选择源](https://i-blog.csdnimg.cn/direct/746691fe646049cca01ab25a44e99099.png)
![版本选择](https://i-blog.csdnimg.cn/direct/dee97f1e1e83409f919af65e48701143.png)
不同版本对应的Ubuntu版本：
![版本对应](https://i-blog.csdnimg.cn/direct/e93542ae27504db2a9ed2d8765463d0f.png)
![安装桌面版](https://i-blog.csdnimg.cn/direct/8bb1344f912749628017a14ca21fe209.png)
安装完成后需要重启终端ros2才能生效，wsl中可以使用`source ~/.bashrc`
![安装完成](https://i-blog.csdnimg.cn/direct/c499850465dc4fcfb539c5fc974f8f0a.png)
## 启动海龟模拟器

```bash
ros2 run turtlesim turtlesim_node
```
![启动海龟模拟器](https://i-blog.csdnimg.cn/direct/c15952dce96e499ea8f6883a7b16cc66.png)
新终端输入：

```bash
ros2 run turtlesim turtle_teleop_key
```
### wsl运行海龟模拟器
~~在此终端中通过上下左右键控制海龟，但是很遗憾，在wsl中运行失败了（后台启动小海龟，启动后就崩溃了）！！！~~ 

应该wsl的问题，重启后运行成功了！

后台启动海龟模拟器：

```bash
nohup ros2 run turtlesim turtlesim_node > turtlesim.log 2>&1 &
```
启动键盘控制：
```bash
ros2 run turtlesim turtle_teleop_key
```
通过“ ↑  ↓  ←  → ”控制海龟移动
![wsl海龟模拟器](https://i-blog.csdnimg.cn/direct/53e127a37d504dc59782bc02f4c58508.png)
保持海龟模拟器，在新终端打开`rqt`工具
选择  Plugins → 	Introspection → Node Graph
![rqt](https://i-blog.csdnimg.cn/direct/473ba57b02ba4c5b98a505110f5db26c.png)
就可以看到控制过程了
![rqt](https://i-blog.csdnimg.cn/direct/b8f210b152a7477c95b5454a42e1e0c5.png)
`teleop _turtie`为键盘控制节点
`turtlesim`为仿真界面节点

使用`pkill -f turtlesim`
关闭所有跟`turtlesim`有关的进程